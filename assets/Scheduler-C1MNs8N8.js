import{r as _,d as A,_ as w,c as g,a as u,F as S,e as h,o as v,t as x,n as M}from"./index-DjEA44wn.js";const D={mo:[{bt:240,et:779}],tu:[],we:[],th:[{bt:240,et:779},{bt:1140,et:1319}],fr:[{bt:660,et:1019}],sa:[{bt:0,et:1439}],su:[]},B=["00:00","03:00","06:00","09:00","12:00","15:00","18:00","21:00"],C=()=>{const l=_(D),s=_(!1),d=_(null),n=A(()=>Array.from({length:24},(e,t)=>t)),p=(e,t)=>{const o=t*60;return l.value[e].some(i=>o>=i.bt&&o<=i.et)},m=e=>{console.log("toggle");const t=l.value[e].length===1&&l.value[e][0].bt===0&&l.value[e][0].et===1439;l.value[e]=t?[]:[{bt:0,et:1439}]},b=(e,t)=>{s.value=!0,d.value=p(e,t)?"deselect":"select",a(e,t)},r=(e,t)=>{s.value&&a(e,t)},a=(e,t)=>{const o=t*60;let c=l.value[e];d.value==="select"?p(e,t)||(c.push({bt:o,et:o+59}),l.value[e]=k(c)):l.value[e]=c.filter(i=>!(o>=i.bt&&o<=i.et))},f=()=>{s.value=!1,d.value=null},k=e=>{e.sort((o,c)=>o.bt-c.bt);let t=[e[0]];for(let o=1;o<e.length;o++){const c=e[o],i=t[t.length-1];c.bt<=i.et?i.et=Math.max(i.et,c.et):t.push(c)}return t};return{days:l,isSelecting:s,selectionType:d,hours:n,isHourSelected:p,toggleAllDay:m,startSelection:b,dragSelection:r,updateSelection:a,endSelection:f}},H={setup(){const{days:l,hours:s,isHourSelected:d,toggleAllDay:n,startSelection:p,dragSelection:m,updateSelection:b,endSelection:r}=C();return{days:l,hours:s,isHourSelected:d,toggleAllDay:n,startSelection:p,dragSelection:m,updateSelection:b,endSelection:r,timelineArray:B}},watch:{days:{handler(l){console.log("Days changed:",l)},deep:!0}}},I={class:"grid grid-cols-[3rem_3rem_repeat(8,_1fr)]"},F={class:"grid grid-rows-7 gap-2"},z={class:"uppercase text-center border-r p-2 text-slate-500"},E=["onClick"],L={class:"grid grid-cols-[repeat(24,_1fr)] gap-1"},N=["onMousedown","onMouseenter"];function T(l,s,d,n,p,m){return v(),g(S,null,[s[3]||(s[3]=u("h2",{class:"uppercase underline my-4 font-bold text-inherit text-slate-700"},"Set schedule",-1)),u("div",I,[s[1]||(s[1]=u("div",null,null,-1)),s[2]||(s[2]=u("div",{class:"uppercase pb-2 text-center"},"all day",-1)),(v(!0),g(S,null,h(n.timelineArray,(b,r)=>(v(),g("div",{key:r,class:"border-l text-center pb-4"},x(b),1))),128))]),u("div",F,[(v(!0),g(S,null,h(n.days,(b,r)=>(v(),g("div",{key:r,class:"grid grid-cols-[3rem_3rem_1fr] border"},[u("div",z,x(r),1),u("div",{class:"font-bold mx-1 border-r cursor-pointer",onClick:a=>n.toggleAllDay(r)},"X",8,E),u("div",L,[(v(!0),g(S,null,h(n.hours,a=>(v(),g("div",{key:a,class:M(["h-10 text-center leading-10 cursor-pointer bg-gray-200 hour-slot",{"bg-green-600 text-white":n.isHourSelected(r,a)}]),onMousedown:f=>n.startSelection(r,a),onMouseenter:f=>n.dragSelection(r,a),onMouseup:s[0]||(s[0]=(...f)=>n.endSelection&&n.endSelection(...f))},null,42,N))),128))])]))),128))])],64)}const X=w(H,[["render",T]]);export{X as default};
